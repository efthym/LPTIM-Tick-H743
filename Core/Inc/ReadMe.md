## File Manifest

- *main.h* - Generated by CubeMX, no customizations added
- *stm32h7xx_hal_conf.h* - Generated by CubeMX, no customizations added
- *stm32h7xx_it.h* - Generated by CubeMX, no customizations added
- *testTickTiming.h* - Custom file
- *ulp.h* - Custom file
- *FreeRTOSConfig.h* - Generated by CubeMX, minor customizations (see below) added between the /*USER CODE BEGIN/END Defines */.
```
// Integrate lptimTick.c -- Start of Block
//
#if ( configUSE_TICKLESS_IDLE == 2 )

  //      Preprocessor code in lptimTick.c requires that configTICK_RATE_HZ be a preprocessor-friendly numeric
  // literal.  As a result, the application *ignores* the CubeMX configuration of the FreeRTOS tick rate.
  //
  #undef  configTICK_RATE_HZ
  #define configTICK_RATE_HZ  1000UL  // <-- Set FreeRTOS tick rate here, not in CubeMX.

  //      Don't bother installing xPortSysTickHandler() into the vector table or including it in the firmware
  // image at all.  FreeRTOS doesn't use the SysTick timer nor xPortSysTickHandler() when lptimTick.c is
  // providing the OS tick.
  //
  #undef  xPortSysTickHandler

#endif // configUSE_TICKLESS_IDLE == 2
//
// Integrate lptimTick.c -- End of Block

#if ( configUSE_TICKLESS_IDLE == 2 )

  //      Without pre- and post-sleep processing, lptimTick.c uses only basic sleep mode during tickless idle.
  // To utilize the stop modes and their dramatic reduction in power consumption, we employ an ultra-low-power
  // driver to handle the pre- and post-sleep hooks.
  //
  #define configPRE_SLEEP_PROCESSING(x)   vUlpPreSleepProcessing()
  #define configPOST_SLEEP_PROCESSING(x)  vUlpPostSleepProcessing()

  //      Make sure the self-tests in our demo application capture tick-timing information as quickly as
  // possible after each tick.  This interrupt priority ensures the OS tick ISR preempts other ISRs.  Without
  // this configuration, interrupt latency causes a little extra jitter during the stress test.  See main.c.
  // To see the effect of interrupt latency in the terminal output, remove or comment out this line.
  //
#endif /* configUSE_TICKLESS_IDLE == 2 */
```
